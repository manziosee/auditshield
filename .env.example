# ─── Django ───────────────────────────────────────────────────────────────────
DJANGO_SECRET_KEY=change-me-to-a-long-random-string-at-least-50-chars
DJANGO_DEBUG=False
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,yourdomain.com
DJANGO_SETTINGS_MODULE=auditshield.settings.production

# ─── Database ─────────────────────────────────────────────────────────────────
# Option A — PostgreSQL (Docker Compose / self-hosted production)
DATABASE_URL=postgresql://auditshield:auditshield@db:5432/auditshield

# Option B — Turso / SQLite (Fly.io or CI)
# Comment out DATABASE_URL and set these instead:
# TURSO_DATABASE_URL=file:db.sqlite3   # local SQLite
# TURSO_AUTH_TOKEN=                    # leave blank for SQLite

# PostgreSQL credentials (used by the db service in docker-compose.yml)
DB_NAME=auditshield
DB_USER=auditshield
DB_PASSWORD=auditshield

# ─── Redis (cache + Celery broker) ────────────────────────────────────────────
REDIS_PASSWORD=redispassword
REDIS_URL=redis://:redispassword@redis:6379/0
CELERY_BROKER_URL=redis://:redispassword@redis:6379/1
CELERY_RESULT_BACKEND=redis://:redispassword@redis:6379/2

# ─── JWT ──────────────────────────────────────────────────────────────────────
JWT_ACCESS_TOKEN_LIFETIME_MINUTES=30
JWT_REFRESH_TOKEN_LIFETIME_DAYS=7

# ─── File Storage ─────────────────────────────────────────────────────────────
# Local (default) or S3-compatible
STORAGE_BACKEND=local
MEDIA_ROOT=/app/media

# S3 / MinIO (uncomment to use)
# AWS_ACCESS_KEY_ID=your-key
# AWS_SECRET_ACCESS_KEY=your-secret
# AWS_STORAGE_BUCKET_NAME=auditshield-media
# AWS_S3_ENDPOINT_URL=http://minio:9000
# AWS_S3_REGION_NAME=us-east-1

# ─── File Encryption ──────────────────────────────────────────────────────────
# 32-byte Fernet key — generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
FILE_ENCRYPTION_KEY=generate-a-real-fernet-key-here

# ─── Email ────────────────────────────────────────────────────────────────────
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=noreply@yourdomain.com
EMAIL_HOST_PASSWORD=your-app-password
DEFAULT_FROM_EMAIL=AuditShield <noreply@yourdomain.com>

# ─── Frontend ─────────────────────────────────────────────────────────────────
FRONTEND_URL=http://localhost:3000
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# ─── Backup ───────────────────────────────────────────────────────────────────
BACKUP_ENCRYPTION_PASSPHRASE=strong-backup-passphrase
BACKUP_RETENTION_DAYS=30
# Optional: offsite backup via rclone
# RCLONE_REMOTE=s3:auditshield-backups

# ─── Security ─────────────────────────────────────────────────────────────────
SECURE_HSTS_SECONDS=31536000
SESSION_COOKIE_AGE=3600
MAX_UPLOAD_SIZE_MB=50
RATE_LIMIT_PER_MIN=60

# ─── OCR (optional) ───────────────────────────────────────────────────────────
TESSERACT_CMD=/usr/bin/tesseract
